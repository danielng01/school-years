<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Matura</title>
<style>
.list-group{
//	width: 30%;
margin: 20px;
}
pre.tekst{
	font-size: 20px;
	font-family: times new roman;
	word-break: normal;
	white-space: pre-wrap;
	white-space: -moz-pre-wrap;
	white-space: -pre-wrap;
	white-space: -o-pre-wrap;
	word-wrap: break-word;
}
audio {
  width: 300px;
  margin: 0 auto;
}
#div-2 {
    display: table;
    margin: 0 auto;
}
</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50174770-1', 'cloudbees.net');
  ga('send', 'pageview');

</script>
</head>
<body>
<%@ page import="java.net.URLDecoder"%>
<%@page import="java.io.FileReader"%>
<%@page import="java.io.BufferedReader"%>
<%@page import="java.io.File"%>
<%@page import="java.io.*"%>
<% 
request.setCharacterEncoding("UTF-8");
String[] parameters = URLDecoder.decode(request.getQueryString(), "UTF-8").split("&"); %>
<% String[] proizvedenieArray = parameters[0].split("="); 
String proizvedenie = proizvedenieArray[1];
//out.println(proizvedenie);

try {
	String jspPath = session.getServletContext().getRealPath("/");
	File fileDir = new File(jspPath + "/AudioBook/" +proizvedenie);
	
	BufferedReader in = new BufferedReader(
	   new InputStreamReader(
	                 new FileInputStream(fileDir), "UTF8"));
	
	String str;
	%><pre class = "tekst" style=""><%
	while ((str = in.readLine()) != null) {
	   // System.out.println(str);
		 out.println(str);
	}
%></pre><%
    in.close();
} 
catch (UnsupportedEncodingException e) 
{
	System.out.println(e.getMessage());
} 
catch (IOException e) 
{
	System.out.println(e.getMessage());
}
catch (Exception e)
{
	System.out.println(e.getMessage());
}
%>
<div ID="div-2">
<audio controls>
     <source src="<%=request.getContextPath()%>/AudioBook/Botev-Elegiq.mp3" type="audio/mpeg">
</audio>
</div>
<jsp:include page="footer.jsp" /> 